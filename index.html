<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>HighQueue by dale-wilson</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>HighQueue</h1>
          <h2>A Queue for High Speed message passing between threads, processes, or other components.</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/dale-wilson/HighQueue/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/dale-wilson/HighQueue/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/dale-wilson/HighQueue" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h1>

<blockquote>
<p>IMPORTANT: This is under construction.  It works but it is not ready for critical applications, yet.</p>
</blockquote>

<p>A High Speed Queue (HSQ) is a mechanism for message passing between components of a system.  It is most often used to pass messages between two or more threads in the same process, but it can also be used for intra-process communication by putting the HSQueue in shared memory. </p>

<pre><code>  The HighQueue Haiku

  To send messages
  So quickly you must use a
  Good algorithm.
</code></pre>

<h2>
<a id="clients" class="anchor" href="#clients" aria-hidden="true"><span class="octicon octicon-link"></span></a>Clients</h2>

<p>HSQueue clients can be either a Publisher or a Consumer.</p>

<ul>
<li>Producers create and publish data into the HSQueue.<br>
</li>
<li>Consumers accept and process data from the HSQueue.
Each HSQueue instance supports multiple Producers, but only a single Consumer.</li>
</ul>

<h2>
<a id="how-fast-is-it" class="anchor" href="#how-fast-is-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>How fast is it?</h2>

<p>Absolute performance numbers are notoriously difficult to measure accurately. The results vary widely from machine to machine.</p>

<p>That being said, tests on an Intel(R) Core(TM) i7-4790 CPU @3.60GHz [8 cores] with one producer and one consumer
show sustained throughput is around 16.6 million messages/second.  This translates to around 60 nanoseconds per message delivery.  </p>

<p>In addition to message delivery time, these measurements include the time to acquire the memory space needed to compose the next message, the time to compose the simple 88 byte message, and the time for the consumer to access the entire message after receiving it.  Many benchmarks omit these factors even though they can easily cut the delivery rate in half.</p>

<p>HighQueue can sustain this delivery rate up to 6 producers and one consumer on this machine.  Beyond that the threads start
competing with the operating system (Win7) and with each other for the available cores and throughput starts to drop.
[With 8 producers + 1 consumer + Windows a message is delivered to the consumer thread every 145 nanoseconds.]</p>

<p>As a point of comparison 60 nsec per message with an 88 byte message translates to around 11 Ghz.  Thus messages arriving over a 10 Ghz network can be easily distribute to processing threads much faster than they arrive through the network -- especially taking into account the network overhead that means a 10 Ghz network will never reach its theoretical maximum delivery speed.  </p>

<p>Of course measuring this performance in Ghz can be misleading because most of the time is incurred on a per-message basis rather than per-byte or per-bit, so increasing the message size increases the GHz measurement almost linearly.  With an 800 byte message the measured bit throughput rate is 55 Ghz.</p>

<p>You can generate equivalent numbers for your machine by running the MultithreadPerformanceTest which is included in the HQPerformance executable.</p>

<p><em>Your Mileage Will Vary!</em></p>

<h2>
<a id="highqueue-depends-on" class="anchor" href="#highqueue-depends-on" aria-hidden="true"><span class="octicon octicon-link"></span></a>HighQueue depends on</h2>

<ul>
<li>A modern C++ compiler that implements the C++11 standard.

<ul>
<li>VisualStudio 12 (2013) works.</li>
<li>gcc 4.7.2 works.</li>
</ul>
</li>
<li>OCI's Make Project Creator (MPC) V4.1 or later. (<a href="http://www.ociweb.com/products/mpc">http://www.ociweb.com/products/mpc</a>)

<ul>
<li>MPC is used to create make files for gcc or Visual Studio [tm] solution and project files.</li>
</ul>
</li>
<li>Boost Test (any recent version) (<a href="http://www.boost.org/">http://www.boost.org/</a>)

<ul>
<li>Boost test is used for functional and performance testing. </li>
</ul>
</li>
</ul>

<p>Neither MPC nor Boost is needed at runtime. </p>

<h2>
<a id="licensing" class="anchor" href="#licensing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Licensing</h2>

<p>HighQueue is distributed with a very friendly, non-viral license.  You are required to include the HighQueue license including the appropriate disclaimers with any product that incorporates HighQueue.</p>
        </section>

        <footer>
          HighQueue is maintained by <a href="https://github.com/dale-wilson">dale-wilson</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>